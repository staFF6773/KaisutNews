<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Noticias de Anime</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/styles.css">
</head>
<body class="min-h-screen text-gray-200">
  <%- include('../nav.ejs') %>
  <% 
    function formatDate(dateString) {
      const date = new Date(dateString);
      const day = String(date.getDate()).padStart(2, '0');
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const year = date.getFullYear();
      const hours = String(date.getHours()).padStart(2, '0');
      const minutes = String(date.getMinutes()).padStart(2, '0');
      return `${day}/${month}/${year} ${hours}:${minutes}`;
    }
  %>
  <div class="max-w-2xl mx-auto py-12 px-4">
    <h1 class="text-4xl font-extrabold mb-8 text-center tracking-tight title-gradient">Noticias de Anime</h1>
    <div class="flex justify-end mb-8">
      <a href="/new" class="btn-main px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-900">+ Nueva noticia</a>
    </div>
    <ul class="divide-y divide-gray-800">
      <% if (animes && animes.length) { %>
        <% animes.forEach(function(anime, idx) { %>
          <li class="group flex items-center gap-6 py-6 px-4 bg-[#181a20] rounded-2xl shadow-lg mb-6 transition-transform duration-200 hover:-translate-y-1 hover:shadow-2xl border border-gray-800">
            <% if (anime.image) { %>
              <img src="<%= anime.image %>" alt="Portada" class="w-24 h-24 object-cover rounded-xl border-2 border-[#23263a] shadow-md transition-transform duration-200 group-hover:scale-105" />
            <% } %>
            <div class="flex-1 min-w-0">
              <a href="/news/<%= anime.id %>" class="block text-xl font-bold text-gray-100 hover:text-blue-400 truncate transition-colors duration-200"><%= anime.title %></a>
              <div class="text-xs text-gray-400 mt-2 mb-4"><%= formatDate(anime.date) %></div>
              <a href="/news/<%= anime.id %>" class="inline-block btn-main px-4 py-1 rounded-md font-medium text-sm shadow-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-900 hover:bg-blue-900 hover:text-white">Leer m√°s</a>
            </div>
          </li>
        <% }); %>
      <% } else { %>
        <li class="text-center text-gray-600 italic py-8">No hay noticias disponibles.</li>
      <% } %>
    </ul>
  </div>
  <%- include('../footer.ejs') %>
</body>
</html> 